(()=>{class t{constructor(){this.apiKey="9561863653c64bc1cc99067df8019cd4"}async getWeather(t){const e=`http://api.openweathermap.org/data/2.5/weather?q=${t}&APPID=${this.apiKey}&units=metric`;try{const t=await fetch(e);return await t.json()}catch(t){return null}}}class e{constructor(){this.results=document.querySelector(".results"),this.cityName=document.getElementById("cityName"),this.cityCountry=document.getElementById("cityCountry"),this.cityIcon=document.getElementById("cityIcon"),this.cityTemp=document.getElementById("cityTemp"),this.cityHumidity=document.getElementById("cityHumidity")}showWeather(t){const{name:e,sys:{country:n},main:{temp:c,humidity:i}}=t,{icon:s}=t.weather[0];this.results.classList.add("showItem"),this.cityName.textContent=e,this.cityCountry.textContent=n,this.cityHumidity.textContent=i,this.cityIcon.src=`http://openweathermap.org/img/w/${s}.png`,this.cityTemp.textContent=c}}!function(){const n=document.getElementById("wheatherForm"),c=document.getElementById("cityInput"),i=document.querySelector(".feedback"),s=new t,o=new e;function a(t){i.classList.add("showItem"),i.innerHTML=`<p>${t}</p>`,setTimeout((()=>{i.classList.remove("showItem")}),3e3)}n.addEventListener("submit",(t=>{t.preventDefault();const e=c.value;0===e.length?a("city value cannot be empty"):s.getWeather(e).then((t=>{"city not found"===t.message?a("city with such name cannot be found"):o.showWeather(t)}))}))}()})();